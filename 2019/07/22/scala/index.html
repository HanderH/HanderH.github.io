<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="author" content="HanderH">



<meta name="description" content="一.变量scala的数据类型">
<meta name="keywords" content="scala">
<meta property="og:type" content="article">
<meta property="og:title" content="scala">
<meta property="og:url" content="http://www.handerh.top/2019/07/22/scala/index.html">
<meta property="og:site_name" content="hsj的博客">
<meta property="og:description" content="一.变量scala的数据类型">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://handerh-1259550163.cos.ap-shanghai.myqcloud.com/java/scala/scala1.png">
<meta property="og:image" content="https://handerh-1259550163.cos.ap-shanghai.myqcloud.com/java/scala/scala2.png">
<meta property="og:image" content="https://handerh-1259550163.cos.ap-shanghai.myqcloud.com/java/scala/scala3.png">
<meta property="og:image" content="https://handerh-1259550163.cos.ap-shanghai.myqcloud.com/java/scala/scala4.png">
<meta property="og:updated_time" content="2019-08-02T09:31:34.267Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="scala">
<meta name="twitter:description" content="一.变量scala的数据类型">
<meta name="twitter:image" content="https://handerh-1259550163.cos.ap-shanghai.myqcloud.com/java/scala/scala1.png">

<link rel="apple-touch-icon" href="/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="hsj的博客" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>scala | hsj的博客</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>




  
<script type="text/javascript">
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?4f798eed1a766f92447c385d4a7be8eb";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/handerh.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">HanderH</a></h1>
        </hgroup>

        
        <p class="header-subtitle">life and work</p>
        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:husj0423@163.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="https://github.com/HanderH/" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa QQ" href="https://user.qzone.qq.com/1290449261" title="QQ"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flume/">Flume</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase/">hbase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hive/">hive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java并发编程/">java并发编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java设计模式/">java设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java高并发/">java高并发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm/">jvm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/">kafka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scala/">scala</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/">spark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu-linux/">ubuntu linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/">zookeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构与算法/">数据结构与算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/项目总结/">项目总结</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">大数据的时代</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">HanderH</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/handerh.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">HanderH</a></h1>
            </hgroup>
            
            <p class="header-subtitle">life and work</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:husj0423@163.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/HanderH/" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa QQ" target="_blank" href="https://user.qzone.qq.com/1290449261" title="QQ"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap"><article id="post-scala" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      
        <!-- 不蒜子统计 -->
        <span id="busuanzi_container_page_pv" style='display:none' class="article-date">
              <i class="icon-smile icon"></i> 阅读数：<span id="busuanzi_value_page_pv"></span>次
        </span>

<a href="/2019/07/22/scala/" class="article-date">
      <time datetime="2019-07-22T06:46:09.000Z" itemprop="datePublished">2019-07-22</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
       
        
  
    <h1 class="article-title" itemprop="name">
      scala
    </h1>
  

          <!--
            
                 <div style="margin-top:10px;">
    <span class="post-time">
      <span class="post-meta-item-icon">
        <i class="fa fa-keyboard-o"></i>
        <span class="post-meta-item-text">  字数统计: </span>
        <span class="post-count">8.3k字</span>
      </span>
    </span>

    <span class="post-time">
      &nbsp; | &nbsp;
      <span class="post-meta-item-icon">
        <i class="fa fa-hourglass-half"></i>
        <span class="post-meta-item-text">  阅读时长: </span>
        <span class="post-count">39分</span>
      </span>
    </span>
</div>

            
           -->
       </header>
        
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/scala/">scala</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/scala/">scala</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="一-变量"><a href="#一-变量" class="headerlink" title="一.变量"></a>一.变量</h2><h3 id="scala的数据类型"><a href="#scala的数据类型" class="headerlink" title="scala的数据类型"></a>scala的数据类型</h3><a id="more"></a>

<p><img src="https://handerh-1259550163.cos.ap-shanghai.myqcloud.com/java/scala/scala1.png" alt></p>
<ul>
<li><p>Any:根类型，所有类的父类，它有两个直接子类，AnyValue,AnyRef</p>
</li>
<li><p>AnyRef:所有Scala中引用类（reference class)的父类</p>
</li>
<li><p>Null:所有引用类的子类，类似与java中的null</p>
</li>
<li><p>Nothing:所有类的子类，可以将Nothing类型的值返回给任意变量或者函数</p>
<h4 id="数据类型列表"><a href="#数据类型列表" class="headerlink" title="数据类型列表"></a>数据类型列表</h4><p><img src="https://handerh-1259550163.cos.ap-shanghai.myqcloud.com/java/scala/scala2.png" alt></p>
</li>
</ul>
<h3 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">规则:</span><br><span class="line">	val/var vname:type = value</span><br><span class="line">var i 		//error 变量声明必须初始化</span><br><span class="line">var x = _	//error 需要明确具体的类型</span><br><span class="line">val y = _ 	//error val不可变，需要确定的值</span><br><span class="line">var i:int = 10</span><br><span class="line">val j:Char = &apos;a&apos;</span><br></pre></td></tr></table></figure>

<p>var和val的区别：</p>
<p>var修饰的变量是可变的，val修饰的变量是不可变的，它底层其实是使用final关键字修饰</p>
<h4 id="键盘输入语句"><a href="#键盘输入语句" class="headerlink" title="键盘输入语句"></a>键盘输入语句</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">println(&quot;请输入你的姓名&quot;)</span><br><span class="line">var name = StdIn.readLine()</span><br><span class="line"></span><br><span class="line">println(&quot;请输入你的证件号&quot;)</span><br><span class="line">var card = StdIn.readLine();</span><br></pre></td></tr></table></figure>

<h2 id="二-程序流程控制"><a href="#二-程序流程控制" class="headerlink" title="二.程序流程控制"></a>二.程序流程控制</h2><h3 id="1-if-else"><a href="#1-if-else" class="headerlink" title="1. if-else"></a>1. if-else</h3><p>与java中的if-else 差不多</p>
<h3 id="2-for循环控制"><a href="#2-for循环控制" class="headerlink" title="2.for循环控制"></a>2.for循环控制</h3><p>Scala为for循环这一常见的控制结果提供了非常多的特性，这些特性被成为for推导式或or表达式</p>
<ul>
<li>范围数据循环方式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//两边都是闭合的　</span><br><span class="line">for(i&lt;-start to end)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">//左闭右开</span><br><span class="line">for(i&lt;-start until end)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">//对集合进行循环遍历</span><br><span class="line">var list = List(&quot;hello&quot;,&quot;world&quot;,&quot;good&quot;)</span><br><span class="line">for (i&lt;-list)&#123;</span><br><span class="line">  println(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>循环守卫</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> //条件为true的进入循环体内部　为false的则不进入</span><br><span class="line"> for (i&lt;-1 to 10 if i%2!=0 )&#123;</span><br><span class="line">      println(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>引入变量</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> for (i&lt;-1 to 10;j = 10-i )&#123;</span><br><span class="line">      println(i+&quot;:&quot;+j)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>嵌套循环</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> //嵌套循环</span><br><span class="line">   for (i&lt;-1 to 3;j&lt;-1 to 3)&#123;</span><br><span class="line">     println(&quot;xxx&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>for 推倒　yield将结果收集</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//y 是一个Vector集合　Vector(1, 2, 3)</span><br><span class="line">val y = for (i&lt;-1 to 3) yield i</span><br><span class="line"> println(y)</span><br></pre></td></tr></table></figure>

<ul>
<li>使用花括号</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">for &#123;</span><br><span class="line">         i&lt;-1 to 3 </span><br><span class="line">         j&lt;-1 to 3</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">      println(&quot;xxx&quot;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>控制步长</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//使用range控制for循环的步长</span><br><span class="line">    var range = new Range(1,10,2)</span><br><span class="line">    for (i&lt;- range)&#123;</span><br><span class="line">      println(i)</span><br><span class="line">    &#125;</span><br><span class="line">    for (i&lt;-1 to 10 if i % 2 == 1)&#123;</span><br><span class="line">      println(i)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-while循环控制"><a href="#3-while循环控制" class="headerlink" title="3.while循环控制"></a>3.while循环控制</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">while()&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">do&#123;</span><br><span class="line">    </span><br><span class="line">&#125;while()</span><br><span class="line"></span><br><span class="line">两者区别:while先进行判断再执行　do while 先执行再判断</span><br></pre></td></tr></table></figure>

<p>循环中断</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">	var  i =1;</span><br><span class="line">    breakable&#123;</span><br><span class="line">      while (i&lt;20)&#123;</span><br><span class="line">        println(i)</span><br><span class="line">        if(i%4==0)&#123;</span><br><span class="line">          break;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">//需要导包　import util.control.Breaks._</span><br></pre></td></tr></table></figure>

<h3 id="4-异常处理"><a href="#4-异常处理" class="headerlink" title="4.异常处理"></a>4.异常处理</h3><ol>
<li>在scala中只有一个catch,但是有多个case，每个case可以用来匹配一种异常</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">        val i = 10/0;</span><br><span class="line">    &#125;catch&#123;</span><br><span class="line">      case exception: ArithmeticException =&gt;&#123;</span><br><span class="line">        println(&quot;出现除0异常&quot;)</span><br><span class="line">      &#125;</span><br><span class="line">      case exception: NullPointerException =&gt;&#123;</span><br><span class="line">        println(&quot;空指针异常&quot;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;finally &#123;</span><br><span class="line">      println(&quot;最后要被执行的代码&quot;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>scala中没有checked异常，都是在运行进行捕捉的</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def test4():Unit=&#123;</span><br><span class="line">    throw new ArithmeticException();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="三-方法的定义"><a href="#三-方法的定义" class="headerlink" title="三.方法的定义"></a>三.方法的定义</h2><h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def methodName(arg1:type,arg2:type2)[:type]=&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意事项:</p>
<ul>
<li>当函数的返回值是unit是，＝可以省略</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> def test1(str:String):Unit=&#123;</span><br><span class="line"></span><br><span class="line">    println(str)</span><br><span class="line">&#125;</span><br><span class="line"> def test1(str:String)&#123;</span><br><span class="line"></span><br><span class="line">    println(str)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>返回值类型可以自动推断</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// return可以省略</span><br><span class="line">def add(a:Int,b:Int):Int=&#123;</span><br><span class="line">    a+b;</span><br><span class="line">&#125;</span><br><span class="line">// 返回值类型可以省略　=不可以省略，否则返回类型为Unit</span><br><span class="line">def add(a:Int,b:Int)=&#123;</span><br><span class="line"></span><br><span class="line">    a+b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>递归一定要声明返回值类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def fac(n:Int):Int=&#123;</span><br><span class="line"></span><br><span class="line">    if(n == 1)&#123;</span><br><span class="line">     return 1</span><br><span class="line">    &#125;</span><br><span class="line">    if (n==2)&#123;</span><br><span class="line">      return 2</span><br><span class="line">    &#125;</span><br><span class="line">    return fac(n-1)+fac(n-2)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>可以指定默认值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//如果指定实参会将默认值覆盖</span><br><span class="line">def test2(str:String=&quot;test2&quot;)=&#123;</span><br><span class="line">    println(str)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>可变参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def test3(str:String,str2:Any*)=&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h3><p>返回值为Unit,忽略=</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def test1(str:String)&#123;</span><br><span class="line"></span><br><span class="line">   println(str)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="惰性函数"><a href="#惰性函数" class="headerlink" title="惰性函数"></a>惰性函数</h3><p>当函数的返回值被声明为lazy时，函数的执行将延迟，直到正在去取值的时候，函数才会执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lazy val lazyVal = add(10,20);</span><br><span class="line"></span><br><span class="line">def add(a:Int,b:Int)=&#123;</span><br><span class="line"></span><br><span class="line">    a+b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意:不能修饰var变量</p>
<p>​    lazy还可以用来修饰变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lazy val i = 1 //变量值的分配将会延迟</span><br></pre></td></tr></table></figure>

<h2 id="四-面向对象编程"><a href="#四-面向对象编程" class="headerlink" title="四.面向对象编程"></a>四.面向对象编程</h2><h3 id="1-类与对象"><a href="#1-类与对象" class="headerlink" title="1.类与对象"></a>1.类与对象</h3><ul>
<li>类的定义</li>
</ul>
<p>编写一个类，用scalac将器编译，再通过　javap -p 反编译查看生成的java代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//scala 类</span><br><span class="line">class Cat &#123;</span><br><span class="line"></span><br><span class="line">  var name:String = _</span><br><span class="line"></span><br><span class="line">  var age:Int = _</span><br><span class="line"></span><br><span class="line">  var gender:String = _</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>javap -p Cat.class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class com.hsj.scala.day1.day2.Cat &#123;</span><br><span class="line">　//属性</span><br><span class="line">  private java.lang.String name;</span><br><span class="line">  private int age;</span><br><span class="line">  private java.lang.String gender;</span><br><span class="line">  //get set方法</span><br><span class="line">  public java.lang.String name();　//name的get</span><br><span class="line">  public void name_$eq(java.lang.String);//name的set</span><br><span class="line">  public int age(); //age get</span><br><span class="line">  public void age_$eq(int);//age set</span><br><span class="line">  public java.lang.String gender();//gender get</span><br><span class="line">  public void gender_$eq(java.lang.String);gendet set</span><br><span class="line">  //构造器</span><br><span class="line">  public com.hsj.scala.day1.day2.Cat();//默认构造器</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以看到　属性默认是private,如果使用的是var，对应的会生成get set 方法</p>
<p>如果使用val,则只会生成get方法</p>
<ul>
<li>创建对象</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def main(args: Array[String]): Unit = &#123;</span><br><span class="line">     val cat:Cat = new Cat</span><br><span class="line">     var cat2:Cat = new Cat</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>推荐使用val,因为创建对象一般不会改变它的引用，只是改变它的属性值</p>
<h3 id="2-构造器"><a href="#2-构造器" class="headerlink" title="2.构造器"></a>2.构造器</h3><p>scala的构造器与java的构造器有很多相同的地方，scala中的构造器可以定义多个，支持重载，这一点和java一样，但是scala也有自己的一些新特性，scala的构造器分为主构造器，辅助构造器，主构造器在类上声明。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class Cat(nameIn:String, ageIn:Int, gen:String)&#123; //主构造器</span><br><span class="line"></span><br><span class="line">  var name:String = _</span><br><span class="line"></span><br><span class="line">  var age:Int = _</span><br><span class="line"></span><br><span class="line">  var gender:String = _</span><br><span class="line"></span><br><span class="line">  def this()&#123;　						//辅助构造器</span><br><span class="line">    this(&quot;jack&quot;,18,&quot;male&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<p>​    在辅助构造器中一定要在第一行调用主构造器</p>
<h4 id="主构造器中的参数"><a href="#主构造器中的参数" class="headerlink" title="主构造器中的参数"></a>主构造器中的参数</h4><ul>
<li>如果主构造器中的参数没有加修饰符修饰，默认为局部变量</li>
<li>主构造器中的参数使用var修饰，这个参数会升级成为成员变量，并且提供get set方法</li>
<li>主构造器中的参数使用val修饰，这个参数会升级成为成员变量，只提供get 方法</li>
</ul>
<h4 id="get-set方法"><a href="#get-set方法" class="headerlink" title="get set方法"></a>get set方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//get</span><br><span class="line">   val cat:Cat = new Cat</span><br><span class="line">    println(cat.name)</span><br><span class="line">    println(cat.age)</span><br><span class="line">    println(cat.gender)</span><br><span class="line">//set</span><br><span class="line">	cat.name = &quot;mary&quot;</span><br><span class="line">    println(cat.name)</span><br></pre></td></tr></table></figure>

<p>如果想要使用java风格的get set需要在属性字段上添加@BeanProperty</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@BeanProperty var name:String = _</span><br><span class="line"></span><br><span class="line">println(cat.getName)</span><br></pre></td></tr></table></figure>

<h4 id="对象的创建流程"><a href="#对象的创建流程" class="headerlink" title="对象的创建流程"></a>对象的创建流程</h4><ol>
<li>new 关键字创建对象</li>
<li>识别new后面的类是否被加载，如果没有被加载，先加载类</li>
<li>在内存为该对象分配空间</li>
<li>调用父类构造器进行初始化</li>
<li>调用构造器进行初始化</li>
<li>将该对象的地址赋值给一个变量</li>
</ol>
<h3 id="3-package"><a href="#3-package" class="headerlink" title="3.package"></a>3.package</h3><p>scala中的包与java中的包作用一样</p>
<ol>
<li>区分相同名字的类</li>
<li>控制访问范围</li>
<li>类很多时，方便管理类</li>
</ol>
<p>scala默认导入三个包，java.lang ,scala._ ,scala.predef</p>
<h4 id="包的使用"><a href="#包的使用" class="headerlink" title="包的使用"></a>包的使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package com.hsj.packageTest</span><br><span class="line">package test&#123;   </span><br><span class="line">  class Test &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  package scala&#123;</span><br><span class="line">	</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意事项：</p>
<p>package test{} :表示创建了包com.hsj.packageTest.test</p>
<p>在scala中，可以在一个文件中创建多个package,并且可以在包中创建类，特质，和对象</p>
<p>scala中子包可以访问父包中的内容，｛　｝体现了作用范围，当子包拥有与父包相同的类时，采用就近原则，如果希望指定哪个类，带上包名即可</p>
<p>如果想要在父包中使用子包的一些内容，需要在父包中import</p>
<p>包中不能定义变量和方法</p>
<h4 id="包对象"><a href="#包对象" class="headerlink" title="包对象"></a>包对象</h4><p>由于包中不能定义变量和方法，使用包对象补足</p>
<p>每一个包都可以拥有一个包对象，名字必须相同，在包对象中定义的变量和方法可以在包中使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package object scala&#123;</span><br><span class="line"></span><br><span class="line">  var name:String =&quot;scala&quot;;</span><br><span class="line"></span><br><span class="line">  def print():Unit=&#123;</span><br><span class="line">    println(name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">package scala&#123;</span><br><span class="line"></span><br><span class="line">  object test&#123;</span><br><span class="line">    def main(args: Array[String]): Unit = &#123;</span><br><span class="line">      print()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="scala中包的访问权限"><a href="#scala中包的访问权限" class="headerlink" title="scala中包的访问权限"></a>scala中包的访问权限</h4><ul>
<li>属性的访问权限为默认时，属性使用的是private修饰</li>
<li>方法的访问权限为默认时，属性使用的是public修饰</li>
<li>private只有在类的内部和伴生对象中可用</li>
<li>protected 只有在子类可以访问，同包无法访问，这点和java不同</li>
<li>scala添加了包访问权限，表示属于那个包</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package scala&#123;</span><br><span class="line"></span><br><span class="line">  object test&#123;</span><br><span class="line">    def main(args: Array[String]): Unit = &#123;</span><br><span class="line">      var per:Persion = new Persion</span><br><span class="line">      println(per.name)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  class Persion&#123;</span><br><span class="line">    private [scala] var name:String = &quot;jack&quot; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-伴生类与伴生对象"><a href="#4-伴生类与伴生对象" class="headerlink" title="4.伴生类与伴生对象"></a>4.伴生类与伴生对象</h3><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><p>在scala中，类用class表示，object表示的一个静态的对象，如果class的名称与object的名称相同，该类被称为半生类，object被称为伴生对象。伴生对象的内容都是静态的，可以通过类名直接调用，类和其伴生对象可以互相访问私有属性，但必须存在同一个源文件中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">object User&#123;</span><br><span class="line">  var name:String = &quot;jack&quot;</span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line"></span><br><span class="line">    println(User.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class User(  var name:String)&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="apply方法"><a href="#apply方法" class="headerlink" title="apply方法"></a>apply方法</h4><p>使用apply(装配器，将属性装配到对象)方法，实现类名(参数)的方式创建对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">object User&#123;</span><br><span class="line"></span><br><span class="line">  def apply():User=new User();</span><br><span class="line"></span><br><span class="line">  def apply(name:String): User = new User(name)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class User()&#123;</span><br><span class="line">  var name:String = _;</span><br><span class="line">  def this(name:String)&#123;</span><br><span class="line">    this</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">object test&#123;</span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line">    val u1 = User(&quot;link&quot;)</span><br><span class="line">    println(u1.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-trait-特质"><a href="#5-trait-特质" class="headerlink" title="5.trait(特质)"></a>5.trait(特质)</h3><h4 id="特质的声明"><a href="#特质的声明" class="headerlink" title="特质的声明"></a>特质的声明</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">trait 特质名&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="特质的使用"><a href="#特质的使用" class="headerlink" title="特质的使用"></a>特质的使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class 类名　extends 父类 with trait1 with trait2 with trait3...</span><br></pre></td></tr></table></figure>

<p>特质中可以拥有抽象方法和具体方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">trait Persion &#123;</span><br><span class="line"></span><br><span class="line">  def eat()</span><br><span class="line"></span><br><span class="line">  def sleep(): Unit =&#123;</span><br><span class="line">    println(&quot;sleep~~~~&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="动态混入"><a href="#动态混入" class="headerlink" title="动态混入"></a>动态混入</h4><p>除了可以在类声明的时候继承特质，还可以在构建对象是动态的混入特质，达到扩展功能的效果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">trait Persion &#123;</span><br><span class="line"></span><br><span class="line">  def eat()</span><br><span class="line"></span><br><span class="line">  def sleep(): Unit =&#123;</span><br><span class="line">    println(&quot;sleep~~~~&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">trait Animal&#123;</span><br><span class="line">  def fright(): Unit =&#123;</span><br><span class="line">    println(&quot;fright~~~&quot;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  def run();</span><br><span class="line">&#125;</span><br><span class="line">class P1 extends Persion&#123;</span><br><span class="line">  override def eat(): Unit = &#123;</span><br><span class="line">    println(&quot;eat~~~~~&quot;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">object P1&#123;</span><br><span class="line"></span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line">    val p1 = new P1 with Animal&#123;</span><br><span class="line">      override def run(): Unit = &#123;</span><br><span class="line">        </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    p1.eat()</span><br><span class="line">    p1.fright()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>叠加特质:构建对象时混入多个特质，称为叠加特质</p>
<p>叠加特质的声明是从左到右，方法的执行是从右到左</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">object TestTrait &#123;</span><br><span class="line"></span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line">	//声明从左到右，执行从右到左　类似栈</span><br><span class="line">    val abc = new ABC with A1 with A2</span><br><span class="line"></span><br><span class="line">    abc.test　//执行的是A2中的test方法</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class ABC&#123;</span><br><span class="line">&#125;</span><br><span class="line">trait Total&#123;</span><br><span class="line">  def test;</span><br><span class="line">&#125;</span><br><span class="line">trait A extends Total &#123;</span><br><span class="line"> override def test: Unit =&#123;</span><br><span class="line">      println(&quot;A test~~&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">  println(&quot;A~~&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">trait A1 extends A&#123;</span><br><span class="line">  override def test: Unit =&#123;</span><br><span class="line">    println(&quot;A1 test~~&quot;)</span><br><span class="line">    super.test</span><br><span class="line">  &#125;</span><br><span class="line">  println(&quot;A1~~&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">trait A2 extends A&#123;</span><br><span class="line">  override def test: Unit =&#123;</span><br><span class="line">    println(&quot;A2 test~~&quot;)</span><br><span class="line">    super.test　　</span><br><span class="line">  &#125;</span><br><span class="line">  println(&quot;A2~~&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>叠加特质一定要注意方法的执行顺序如上述代码中，先执行A2中的test，执行到 super.test的时候，执行的不一定是父特质的方法，它会根据混入的特质的顺序执行<strong>，执行的是它左边的特质中的test方法</strong>，<strong>如果左边没有特质则执行父特质的方法。</strong></p>
<p>上述代码执行顺序：</p>
<p>A2.test–&gt;A1.test–&gt;A.test</p>
<p>注意:A1和A2继承的是同一个父特质，如果不是同一个父特质，那么A2中的super执行的是父特质test</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">object TestTrait &#123;</span><br><span class="line"></span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line">    val abc = new ABC with A1 with A2</span><br><span class="line">    abc.test</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class ABC&#123;</span><br><span class="line">&#125;</span><br><span class="line">trait Total&#123;</span><br><span class="line">  def test;</span><br><span class="line">&#125;</span><br><span class="line">trait A extends Total &#123;</span><br><span class="line"> override def test: Unit =&#123;</span><br><span class="line">      println(&quot;A test~~&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">  println(&quot;A~~&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">trait B extends Total&#123;</span><br><span class="line">  override def test: Unit =&#123;</span><br><span class="line">    println(&quot;B test~~&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">  println(&quot;B~~&quot;)</span><br><span class="line">&#125;</span><br><span class="line">trait A1 extends A&#123;</span><br><span class="line">  override def test: Unit =&#123;</span><br><span class="line">    println(&quot;A1 test~~&quot;)</span><br><span class="line">    super.test</span><br><span class="line">  &#125;</span><br><span class="line">  println(&quot;A1~~&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">trait A2 extends B&#123;</span><br><span class="line">  override def test: Unit =&#123;</span><br><span class="line">    println(&quot;A2 test~~&quot;)</span><br><span class="line">    super.test</span><br><span class="line">  &#125;</span><br><span class="line">  println(&quot;A2~~&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行顺序:A2.test—&gt;B.test</p>
<h4 id="富接口"><a href="#富接口" class="headerlink" title="富接口"></a>富接口</h4><p>富接口：该特质中既有抽象方法又有非抽象方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">trait Persion &#123;</span><br><span class="line">  def eat()</span><br><span class="line">  def sleep(): Unit =&#123;</span><br><span class="line">    println(&quot;sleep~~~~&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="trait中的字段"><a href="#trait中的字段" class="headerlink" title="trait中的字段"></a>trait中的字段</h4><p>trait中可以定义具体的字段和抽象的字段，一个对象如果混入该特质，就拥有了特质中的字段</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">object TestTrait2 extends App &#123;</span><br><span class="line">   val param =  new T with Param&#123;</span><br><span class="line">      override val age: Int = 18</span><br><span class="line">    &#125;</span><br><span class="line">  println(param.name)</span><br><span class="line">&#125;</span><br><span class="line">trait Param&#123;</span><br><span class="line">    val name:String = &quot;jack&quot;</span><br><span class="line">    val age:Int;</span><br><span class="line">&#125;</span><br><span class="line">class T&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="trait的构造顺序"><a href="#trait的构造顺序" class="headerlink" title="trait的构造顺序"></a>trait的构造顺序</h4><p>创建对象时混入特质</p>
<ol>
<li>调用当前类的超类的构造器</li>
<li>调用第一个trait的的超类构造器</li>
<li>调用第一个trait的构造器</li>
<li>调用第二个trait的超类构造器</li>
<li>调用第二个trait的构造器</li>
<li>调用当前类的构造</li>
</ol>
<h4 id="trait的扩展类"><a href="#trait的扩展类" class="headerlink" title="trait的扩展类"></a>trait的扩展类</h4><p>trait可以继承类，如果有那个类(A)混入了该trait,那么，这个类（A)会成为trait的超类的子类，</p>
<p>如果这个类（Ａ）还继承了别的类，继承的这个类一定要是trait的超类的子类，否则会发生多继承的错误</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">object TestTrait3 &#123;</span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line">     val a =  new A</span><br><span class="line">    println(a.getMessage)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">trait TraitException extends Exception&#123;</span><br><span class="line">  override def getMessage: String = &#123;</span><br><span class="line">    return &quot;TraitException&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class A extends Exception with TraitException&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>解决该情况在idea中编译时不报错的方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 自身类型</span><br><span class="line">trait TraitException extends Exception&#123;</span><br><span class="line">	this:Exception =&gt;</span><br><span class="line">  override def getMessage: String = &#123;</span><br><span class="line">    return &quot;TraitException&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-重写"><a href="#6-重写" class="headerlink" title="6.重写"></a>6.重写</h3><ol>
<li>在Scala中重写一个非抽象方法必须使用override修饰符。 </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class week extends month&#123; override def firstday = &#123;...&#125; &#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>.重写包括字段和方法，但参数不同的方法可以不重写 </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class month&#123; </span><br><span class="line">	def secondday（m:String）=&#123;...&#125;</span><br><span class="line">&#125; </span><br><span class="line">class week extends month&#123; </span><br><span class="line">	def secondday =&#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>在Scala中调用超类的方法和Java一样，使用super关键字</li>
<li>只有主构造器可以调用超类的主构造器;</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class Employee(name:String,age:Int,val salary:Double) extends Person(name:String,age:Int)</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>重写规则</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">重写 def </span><br><span class="line">    用val ：利用val能重写超类用没有参数的方法(getter) </span><br><span class="line">    用def：子类的方法与超类方法重名 </span><br><span class="line">重写val </span><br><span class="line">    用val：子类的一个私有字段与超类的字段重名，getter方法重写超类的getter方法 </span><br><span class="line">重写var </span><br><span class="line">	用var：且当超类的var是抽象的才能被重写，否则超类的var都会被继承</span><br></pre></td></tr></table></figure>

<h3 id="7-嵌套类"><a href="#7-嵌套类" class="headerlink" title="7.嵌套类"></a>7.嵌套类</h3><h4 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class OuterClass &#123;</span><br><span class="line">  //别名</span><br><span class="line">  outerClass =&gt;</span><br><span class="line">  var name:String = &quot;jack&quot;</span><br><span class="line">  class InnerClass&#123;</span><br><span class="line">    def inner: Unit =&#123;</span><br><span class="line"></span><br><span class="line">      //访问外部类的属性 1</span><br><span class="line">      println(OuterClass.this.name)</span><br><span class="line"></span><br><span class="line">      //访问外部类的属性 2 别名</span><br><span class="line">      println(outerClass.name)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  def tets: Unit =&#123;</span><br><span class="line">    //创建内部类的对象</span><br><span class="line">  　val outerClass =  new OuterClass</span><br><span class="line">    val innerClass:outerClass.InnerClass = new outerClass.InnerClass</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="静态内部类"><a href="#静态内部类" class="headerlink" title="静态内部类"></a>静态内部类</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class OuterClass &#123;</span><br><span class="line">  def tets: Unit =&#123;</span><br><span class="line">    //创建静态内部类对象</span><br><span class="line">    val staticInnerClass = new OuterClass.StaticInnerClass</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">//伴生对象</span><br><span class="line">object OuterClass&#123;</span><br><span class="line">  class StaticInnerClass&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类型投影"><a href="#类型投影" class="headerlink" title="类型投影"></a>类型投影</h4><p>创建内部类时，创建的内部类会与外部类实例产生关联</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class OuterClass2 &#123;</span><br><span class="line"></span><br><span class="line">  class InnerClass&#123;</span><br><span class="line"></span><br><span class="line">    def test(innerClass: InnerClass): Unit =&#123;</span><br><span class="line">        println(innerClass)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">object OuterClassDemo&#123;</span><br><span class="line"></span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line"></span><br><span class="line">    val outer1 = new OuterClass2</span><br><span class="line">    val outer2 = new OuterClass2</span><br><span class="line">    val inner1 = new outer1.InnerClass</span><br><span class="line">    val inner2 = new outer2.InnerClass</span><br><span class="line">    inner1.test(inner1);</span><br><span class="line">    inner2.test(inner2)</span><br><span class="line">//报错　由于inner1已经和外部类实例outer1关联，inner1调用test方法传入的参数只能是outer1.InnerClass</span><br><span class="line">//    inner1.test(inner2) </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为了解决上述问题，只需要在方法声明上添加 外部类#内部类,表示忽略外部类实例与内部类实例的关系</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def test(innerClass: OuterClass2#InnerClass): Unit =&#123;</span><br><span class="line">      println(innerClass)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>##　五.隐式转换和隐式值</p>
<h4 id="1-隐式转换解决数据类型的转换"><a href="#1-隐式转换解决数据类型的转换" class="headerlink" title="1.隐式转换解决数据类型的转换"></a>1.隐式转换解决数据类型的转换</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">object ImpliciteTest&#123;</span><br><span class="line"></span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line">	</span><br><span class="line">	//在底层生成f1$1(double d)的方法，将double强转为int</span><br><span class="line">    implicit def f1(d:Double):Int=&#123;</span><br><span class="line">      d.toInt</span><br><span class="line">    &#125;</span><br><span class="line">	//底层调用f1$1（2.5)的方法</span><br><span class="line">    val i = 2.5;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-隐式值"><a href="#2-隐式值" class="headerlink" title="2.隐式值"></a>2.隐式值</h4><p>隐式值也叫隐式变量，当一个方法在省略隐式参数时，会自动搜索作用域的隐式参数作为缺省参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> def main(args: Array[String]): Unit = &#123;</span><br><span class="line"></span><br><span class="line">    implicit val name:String = &quot;lix&quot;</span><br><span class="line"></span><br><span class="line">    def test(implicit name:String): Unit =&#123;</span><br><span class="line">      println(name)</span><br><span class="line">    &#125;</span><br><span class="line">    test</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-隐式值，默认值，传值的优先级"><a href="#3-隐式值，默认值，传值的优先级" class="headerlink" title="3.隐式值，默认值，传值的优先级"></a>3.隐式值，默认值，传值的优先级</h4><p>传值&gt;隐式值&gt;默认值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> def main(args: Array[String]): Unit = &#123;</span><br><span class="line"></span><br><span class="line">   implicit val name:String = &quot;lix&quot;</span><br><span class="line"></span><br><span class="line">   def test(implicit  name:String=&quot;jack&quot;): Unit =&#123;</span><br><span class="line">     println(name)</span><br><span class="line">   &#125;</span><br><span class="line">   test　//结果为lix</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line"></span><br><span class="line">   implicit val name:String = &quot;lix&quot;</span><br><span class="line"></span><br><span class="line">   def test(implicit  name:String=&quot;jack&quot;): Unit =&#123;</span><br><span class="line">     println(name)</span><br><span class="line">   &#125;</span><br><span class="line">   test(&quot;xxx&quot;)　//结果为xxx</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-隐式类"><a href="#4-隐式类" class="headerlink" title="4.隐式类"></a>4.隐式类</h4><p>隐式类必须定义在类，伴生对象，包对象中，不能作为一个顶级类存在，并且隐式类有且只有一个构造函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">object ImpliciteTest&#123;</span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line">  // implicit 修饰的是构造器</span><br><span class="line">    implicit class A(b: B)&#123;</span><br><span class="line">      def test: Unit =&#123;</span><br><span class="line">        println(&quot;隐式类的调用&quot;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    val b = new B</span><br><span class="line">    b.test</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class B&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>总结：</p>
<p>隐式类的转换时机</p>
<ol>
<li>方法中的参数与它需要的参数类型不一致，或者是在赋值的时候</li>
<li>当一个对象调用本类不存在的方法或参数时</li>
</ol>
<h2 id="六-数据结构"><a href="#六-数据结构" class="headerlink" title="六.数据结构"></a>六.数据结构</h2><h3 id="1-集合关系"><a href="#1-集合关系" class="headerlink" title="1.集合关系"></a>1.集合关系</h3><p>scala集合包括可变集合和不可变集合,scala集合有三大类.序列seq,集合set，映射map</p>
<p>可变集合：scala.collection.mutable,集合本身不能动态改变，java中的数组</p>
<p>不可变集合：scala.collection.immutable，集合本身可以动态改变，java中的ArrayList</p>
<p>不可变集合预览图</p>
<p><img src="https://handerh-1259550163.cos.ap-shanghai.myqcloud.com/java/scala/scala3.png" alt></p>
<p>可变集合预览图</p>
<p><img src="https://handerh-1259550163.cos.ap-shanghai.myqcloud.com/java/scala/scala4.png" alt></p>
<h3 id="2-数组"><a href="#2-数组" class="headerlink" title="2.数组"></a>2.数组</h3><h4 id="不可变数组"><a href="#不可变数组" class="headerlink" title="不可变数组"></a>不可变数组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//　定义方式一</span><br><span class="line"> val a1 = new Array[String](5)</span><br><span class="line"> //　定义方式二</span><br><span class="line"> val a2 = Array(&quot;hello&quot;,&quot;scala&quot;)</span><br><span class="line"></span><br><span class="line"> //遍历方式一</span><br><span class="line"> for (elem &lt;- a2) &#123;</span><br><span class="line">   println(elem)</span><br><span class="line"> &#125;</span><br><span class="line"> //遍历方式二</span><br><span class="line"> for (i&lt;-0 to a2.length)&#123;</span><br><span class="line">   println(a2(i))</span><br><span class="line"> &#125;</span><br><span class="line"> //遍历方式三</span><br><span class="line"> a2.foreach(println)</span><br></pre></td></tr></table></figure>

<h4 id="可变数组"><a href="#可变数组" class="headerlink" title="可变数组"></a>可变数组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">val ab1 = ArrayBuffer[String](&quot;hello&quot;,&quot;scala&quot;)</span><br><span class="line"> val ab2 = ArrayBuffer[String](&quot;hello2&quot;,&quot;scala2&quot;)</span><br><span class="line"></span><br><span class="line"> //append 在原数组后面追加数据</span><br><span class="line">   ab1.append(&quot;ab1&quot;,&quot;append&quot;)</span><br><span class="line">   </span><br><span class="line"> //remove 删除数组指定下标的元素并将其返回</span><br><span class="line">   val res1: String = ab1.remove(0)</span><br><span class="line">   </span><br><span class="line"> //从数组下标为0的位置开始，删除两个元素</span><br><span class="line">   val res2 = ab1.remove(0,2);</span><br><span class="line">   </span><br><span class="line"> 　//drop 删除指定个数的元素　返回删除的元素，形成一个新的数组　原数组不变</span><br><span class="line">   val res3:ArrayBuffer[String] = ab1.drop(2)</span><br><span class="line">   </span><br><span class="line">   /dropRight 从右边删除指定个数的元素　返回删除的元素，形成一个新的数组</span><br><span class="line">    val ab2 = ab.dropRight(3)</span><br><span class="line">    //可变数组转化为不可变数组　原数组不发生改变</span><br><span class="line">   val newArr: Array[String] = ab1.toArray</span><br><span class="line">   </span><br><span class="line">    //将不可变数组转化为可变数组，原数组不发生改变</span><br><span class="line">   val newBuf = newArr.toBuffer</span><br><span class="line">   </span><br><span class="line">    //在ab1后面追加集合ab2</span><br><span class="line">   ab1 ++= ab2;</span><br><span class="line">   </span><br><span class="line">   //在ab1前面追加集合ab2</span><br><span class="line">   ab1.++=:(ab2)  // ab2 ++=: ab1</span><br><span class="line">     </span><br><span class="line">   //在集合ab1后面追加集合ab2并返回一个新的集合</span><br><span class="line">   val ab3 = ab1.++(ab2)</span><br><span class="line">   </span><br><span class="line">   //在集合ab1前面追加集合ab2并返回一个新的集合</span><br><span class="line">    val ab4 = ab1.++:(ab2)</span><br><span class="line">   </span><br><span class="line">   ab1.+=(&quot;hello+=&quot;)</span><br><span class="line">   ab1.+=:(&quot;hello+=:&quot;)</span><br><span class="line">   val ab5 = ab1.+(&quot;hello+&quot;);</span><br><span class="line">   val ab6 = ab1.+(&quot;hello+:&quot;)</span><br></pre></td></tr></table></figure>

<h4 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> val arr: Array[Array[String]] = Array.ofDim[String](5,4)</span><br><span class="line"></span><br><span class="line">    for (item&lt;-arr)&#123;</span><br><span class="line">      for (res&lt;-item)&#123;</span><br><span class="line">        print(res+&quot;\t&quot;)</span><br><span class="line">      &#125;</span><br><span class="line">    println</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-元组"><a href="#3-元组" class="headerlink" title="3.元组"></a>3.元组</h3><p>元组可以存放各种数据类型不同的数据，元组将多个无关的数据封装成为一个整体，元组最多只能有22个元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 元组的定义</span><br><span class="line">     val t1: Tuple1[String] = new Tuple1(&quot;1&quot;)</span><br><span class="line">     val t3: (Int, Int, String) = new Tuple3(1,2,&quot;str&quot;)</span><br><span class="line">     val t4 = (&quot;1&quot;,2.1,&quot;str&quot;,&quot;hello&quot;)</span><br><span class="line"></span><br><span class="line">     //元组的访问</span><br><span class="line">     println(t4._1)</span><br><span class="line">     println(t4._2)</span><br><span class="line">     //元组的遍历</span><br><span class="line">     for (i&lt;-t3.productIterator)&#123;</span><br><span class="line">       println(i)</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-List"><a href="#4-List" class="headerlink" title="4.List"></a>4.List</h3><p>当我们定义一个List时在scala中是不可变的，如果需要使用可变的，需要使用ListBuffer</p>
<h4 id="不可变集合List"><a href="#不可变集合List" class="headerlink" title="不可变集合List"></a>不可变集合List</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//不可变集合</span><br><span class="line">  val l1 = List(1,2,&quot;abc&quot;)</span><br><span class="line">  </span><br><span class="line">   val list = List(1,2,3,&quot;str&quot;)</span><br><span class="line">  // ::　集合对象一定要放在右边　如果不加Nil会形成一个集合，如果加Nil,会形多个集合的集合</span><br><span class="line">  val list2 = 4::5::list //List(4, 5, 1, 2, 3, str)</span><br><span class="line">  val list3 = 4::5::list::Nil //List(4, 5, List(1, 2, 3, str))</span><br><span class="line">  //::: 将集合中的每一个元素添加到集合中去 注意 ::: 左右两边都要是集合</span><br><span class="line">  val list4 = 4::5::immutable.Nil:::list</span><br><span class="line">  println(list4)</span><br></pre></td></tr></table></figure>

<h4 id="可变集合ListBuffer"><a href="#可变集合ListBuffer" class="headerlink" title="可变集合ListBuffer"></a>可变集合ListBuffer</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">//可变集合</span><br><span class="line">   val lb = ListBuffer(11,22,&quot;abc2&quot;)</span><br><span class="line">   println(lb.length)</span><br><span class="line"></span><br><span class="line">   //;list元素的访问</span><br><span class="line">   println(lb(1))</span><br><span class="line"></span><br><span class="line">   //遍历</span><br><span class="line">   for (i&lt;-lb)&#123;</span><br><span class="line">     println(i)</span><br><span class="line">   &#125;</span><br><span class="line">   // 获取除第一个元素外的其它元素</span><br><span class="line">   val tail =   lb.tail</span><br><span class="line">   println(tail)</span><br><span class="line"></span><br><span class="line">   // 从右边开始获取n个元素</span><br><span class="line">  val tr =  lb.takeRight(2)</span><br><span class="line">   println(tr)</span><br><span class="line">   </span><br><span class="line">   // 获取n个元素</span><br><span class="line">  val t = lb.take(2)</span><br><span class="line">   println(t)</span><br><span class="line">   //获取符合条件的元素</span><br><span class="line">   val tw = lb.takeWhile(i=&gt;i==null)</span><br><span class="line">   println(tw)</span><br><span class="line">   println(lb)</span><br><span class="line"></span><br><span class="line">   println(&quot;===========================&quot;)</span><br><span class="line"></span><br><span class="line">   //删除n个元素,将删除后的原集合剩下的元素返回</span><br><span class="line">   val ld = lb.drop(2)</span><br><span class="line">   println(ld)</span><br><span class="line">   //从右边开始删除n个元素,将删除后的原集合剩下的元素返回</span><br><span class="line">   val dr = lb.dropRight(2)</span><br><span class="line">   println(dr)</span><br><span class="line"></span><br><span class="line">   //删除满足条件的元素，将删除后的原集合剩下的元素返回</span><br><span class="line">   val dw = lb.dropWhile(elem =&gt; elem!=null)</span><br><span class="line">   println(dw)</span><br></pre></td></tr></table></figure>

<h4 id="映射Map"><a href="#映射Map" class="headerlink" title="映射Map"></a>映射Map</h4><p>scala中的集合默认是不可变的，如果需要使用可变的，可以使用scala.collection.mutabl下的类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">//定义</span><br><span class="line">    val map1 = Map((1,&quot;li&quot;),(2,&quot;xi&quot;),(3,&quot;jiafeng&quot;))</span><br><span class="line">    map1.+((4,&quot;meng&quot;))</span><br><span class="line">    val map2 = mutable.Map((1,&quot;lo2&quot;),(2,&quot;xo2&quot;))</span><br><span class="line">//取值</span><br><span class="line">    // map1(4) 如果不存在　NoSuchElementException</span><br><span class="line">    // 如果存在　返回Some 不存在返回None</span><br><span class="line">    println(map1.get(3))</span><br><span class="line">   //　如果值存在　返回值　不存在　返回　默认值</span><br><span class="line">    println(map1.getOrElse(4,&quot;NULL&quot;))</span><br><span class="line"></span><br><span class="line">//添加｜修改　如果不存在则添加，存在则覆盖</span><br><span class="line">    map2(1) = &quot;lolo&quot;</span><br><span class="line">    println(map2)</span><br><span class="line">    map2.+=((1,&quot;xxx&quot;));</span><br><span class="line">    println(map2)</span><br><span class="line">    </span><br><span class="line"> //遍历方式</span><br><span class="line">    for ((k,v)&lt;- map2)&#123;</span><br><span class="line">      println(k+&quot; &quot;+v)</span><br><span class="line">    &#125;</span><br><span class="line">    for (m&lt;- map2)&#123;</span><br><span class="line">      println(m._1+&quot; &quot;+m._2)</span><br><span class="line">    &#125;</span><br><span class="line">    for (k &lt;- map2.keys)&#123;</span><br><span class="line">      println(k+&quot; &quot;+map2(k))</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><p>不重复元素的集合</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//定义</span><br><span class="line">    //不可变集合</span><br><span class="line">    val set1 = Set(6,1,2,3,1)</span><br><span class="line">    //不可变集合</span><br><span class="line">    val set2 = mutable.Set(6,1,2,3,1)</span><br><span class="line">    println(set1)</span><br><span class="line"></span><br><span class="line">//增</span><br><span class="line">    set2.+=(4)</span><br><span class="line">    set2.add(5)</span><br><span class="line">//删</span><br><span class="line">    set2.-=(4)</span><br><span class="line">    set2.remove(5)</span><br><span class="line">    println(set2)</span><br><span class="line">//遍历</span><br><span class="line">    for (i&lt;- set2)&#123;</span><br><span class="line">      println(i)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="集合元素的操作"><a href="#集合元素的操作" class="headerlink" title="集合元素的操作"></a>集合元素的操作</h4><ol>
<li>将List(1,2,3)中的所有元素*2</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">val list =  List(1,2,3,4,5)</span><br><span class="line">val res1 = list.map(i =&gt; i*2)</span><br><span class="line">println(res1)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>将List(“hello”,”world”,”scala”)中的所有单词，全部转为大写</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">val res2 = list2.map(word=&gt;word.toUpperCase)</span><br><span class="line">    println(res2)</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>flatMap 扁平化</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">val res3 =  list2.flatMap(s=&gt;s.toUpperCase)</span><br><span class="line">println(res3) // List(H, E, L, L, O, W, O, R, L, D, S, C, A, L, A)</span><br><span class="line"></span><br><span class="line">val list3 = List(List(1,2,3),List(4,5,6),List(7,8,9))</span><br><span class="line">println(list3.flatMap(i =&gt; i.map(j=&gt;j*2)))//List(2, 4, 6, 8, 10, 12, 14, 16, 18)</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>filter 过滤</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">val list =  List(1,2,3,4,5)</span><br><span class="line">val res =  list.filter(i =&gt; i%2==0)</span><br><span class="line">println(res)//List(2, 4)</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>reduce</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">val list =  List(1,2,3,4,5)</span><br><span class="line">val res = list.reduce((a,b)=&gt;a+b)</span><br><span class="line">println(res)</span><br><span class="line">// ((((1-2)-3)-4)-5) </span><br><span class="line">println(list.reduceLeft((a,b)=&gt;a-b))</span><br><span class="line">//(1-(2-(3-(4-5))))</span><br><span class="line">println(list.reduceRight((a,b)=&gt;a-b))</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>fold</li>
</ol>
<p>把上一步的返回值交给下一步，继续参与运算</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">val list =  List(1,2,3,4,5)</span><br><span class="line"> //类似　 List(1,1,2,3,4,5).reduceLeft((num1,num2)=&gt;num1-num2))</span><br><span class="line"> println(list.fold(1)((num1,num2)=&gt;num1-num2))</span><br><span class="line"> //类似List(1,1,2,3,4,5).reduceLeft((num1,num2)=&gt;num1-num2))</span><br><span class="line"> println(list.foldLeft(1)((num1,num2)=&gt;num1-num2))</span><br><span class="line"> //类似List(1,2,3,4,5,１).reduceLeft((num1,num2)=&gt;num1-num2))　</span><br><span class="line"> println(list.foldLeft(1)((num1,num2)=&gt;num1-num2))</span><br><span class="line"> </span><br><span class="line"> //foldLeft 的缩写为　/: foldRight 的缩写为　\:</span><br><span class="line"> println(list./:(1)((num1,num2)=&gt;num1-num2))</span><br><span class="line"> println(list.:\(1)((num1,num2)=&gt;num1-num2))</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>scan</li>
</ol>
<p>对集合中的所有元素做fold操作，但是会保留每步的操作结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">val list =  List(1,2,3,4,5)</span><br><span class="line">   val res: List[Int] = list.scan(5)((n1, n2)=&gt;n1-n2)</span><br><span class="line">   println(res)//List(5, 4, 2, -1, -5, -10)</span><br><span class="line">   val res2 = list.scanLeft(5)((n1, n2)=&gt;n1-n2)</span><br><span class="line">   println(res2)//List(5, 4, 2, -1, -5, -10)</span><br><span class="line">   val res3 = list.scanRight(5)((n1, n2)=&gt;n1-n2)</span><br><span class="line">   println(res3)//List(-2, 3, -1, 4, 0, 5)</span><br></pre></td></tr></table></figure>

<ol start="8">
<li>拉链操作</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">val l1 =  List(1,2,3,4)</span><br><span class="line">val l2 = List(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;)</span><br><span class="line">println(l1.zip(l2)) // 会造成数据丢失List((1,a), (2,b), (3,c), (4,d))</span><br><span class="line">// 三个参数</span><br><span class="line">println(l1.zipAll(l2,&quot;l1N&quot;,&quot;l2N&quot;))//List((1,a), (2,b), (3,c), (4,d), (l1N,e))</span><br><span class="line"></span><br><span class="line">val res = l1.zipAll(l2,0,&quot;l2N&quot;)</span><br><span class="line">println(res)//List((1,a), (2,b), (3,c), (4,d), (0,e))</span><br><span class="line">val res2: (List[Int], List[String]) = res.unzip</span><br><span class="line">println(res2)// (List(1, 2, 3, 4, 0),List(a, b, c, d, e))</span><br></pre></td></tr></table></figure>

<ol start="9">
<li>java集合与scala集合互相转换</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// java集合与scala集合的互相转换</span><br><span class="line">  import scala.collection.JavaConverters._</span><br><span class="line">  val scalaList = List(1,2,3,4,5,6)</span><br><span class="line">  val javaList: util.List[Int] = scalaList.asJava</span><br><span class="line">  val scalaList2 = javaList.asScala</span><br><span class="line">  val scalaMap = Map((1,&quot;a&quot;),(2,&quot;b&quot;))</span><br><span class="line">  val javaMap = scalaMap.asJava</span><br><span class="line">  val scalaMap2 = javaMap.asScala</span><br></pre></td></tr></table></figure>

<h2 id="七-模式匹配"><a href="#七-模式匹配" class="headerlink" title="七.模式匹配"></a>七.模式匹配</h2><h3 id="1-基本介绍"><a href="#1-基本介绍" class="headerlink" title="1.基本介绍"></a>1.基本介绍</h3><p>采用match关键字声明，每个分支采用case关键字声明,需要匹配时从第一个case开始，如果匹配成功，执行相应的逻辑代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">val oper:Char = &apos;2&apos;</span><br><span class="line">  val n1:Int  = 10</span><br><span class="line">  val n2:Int  =20</span><br><span class="line">  </span><br><span class="line">  val res = oper match &#123;</span><br><span class="line">    case &apos;+&apos; =&gt; n1+n2</span><br><span class="line">    case &apos;-&apos; =&gt; n1-n2</span><br><span class="line">    case _ =&gt; println(&quot;error&quot;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>注意:</p>
<ol>
<li>如果所有的case都不匹配则执行case _ ,如果没有case _ 会抛出一个MatchException</li>
<li>如果case _后面有条件判断（守卫），则case _不是默认匹配</li>
<li>case后面跟变量，match前面的值会赋值给变量</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">oper match &#123;</span><br><span class="line">   case a =&gt;  if (a.equals(&apos;+&apos;)) n1+n2</span><br><span class="line">   case b =&gt;  if (b.equals(&apos;-&apos;)) n1-n2</span><br><span class="line">   case _ =&gt; println(&quot;error&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-类型匹配"><a href="#2-类型匹配" class="headerlink" title="2.类型匹配"></a>2.类型匹配</h3><p>在类型匹配时，编译器会自动判断有没有可能匹配的类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    //类型匹配</span><br><span class="line">    val a:Int = 1</span><br><span class="line">    a match &#123;</span><br><span class="line">      case t1:Int =&gt; &quot;Int&quot;</span><br><span class="line">//      case t2:String =&gt;&quot;String&quot;</span><br><span class="line">      case t3:Long =&gt; “long”</span><br><span class="line">//      case t4:List[Int] =&gt; &quot;list[Int]&quot;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-数组匹配"><a href="#3-数组匹配" class="headerlink" title="3.数组匹配"></a>3.数组匹配</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">val arrs = Array(Array(0,1),Array(0),Array(0,1,2,3))</span><br><span class="line"> for (arr&lt;-arrs)&#123;</span><br><span class="line">  val res =  arr match &#123;</span><br><span class="line">     case Array(x) =&gt; x</span><br><span class="line">     case Array(x,y) =&gt; ArrayBuffer(y,x)</span><br><span class="line">     case Array(0,_*) =&gt; &quot;以0开头&quot;</span><br><span class="line">     case _ =&gt; &quot;other&quot;</span><br><span class="line">   &#125;</span><br><span class="line">   println(res)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-列表匹配"><a href="#4-列表匹配" class="headerlink" title="4.列表匹配"></a>4.列表匹配</h3><p>拥有unapply方法的集合才能够进行匹配</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">val lists = List(List(1),List(1,2),List(0,List(1,2)))</span><br><span class="line"></span><br><span class="line">    for (list&lt;-lists)&#123;</span><br><span class="line">     val res =  list match &#123;</span><br><span class="line">        case x::Nil =&gt; x</span><br><span class="line">        case 0::tail=&gt; &quot;...&quot;</span><br><span class="line">        case x::y::Nil =&gt; x+&quot;&quot;+y</span><br><span class="line">        case _ =&gt; &quot;some else &quot;</span><br><span class="line">      &#125;</span><br><span class="line">      println(res)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-对象匹配"><a href="#5-对象匹配" class="headerlink" title="5.对象匹配"></a>5.对象匹配</h3><p>对象匹配需要通过unapply方法进行匹配，unapply是一个对象提取器，返回some则表示匹配成功，返回None表示匹配失败。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">object Nums&#123;</span><br><span class="line"></span><br><span class="line">  def apply(x:Double): Double = &#123;</span><br><span class="line"></span><br><span class="line">    Math.pow(x,2)</span><br><span class="line">  &#125;</span><br><span class="line">  def unapply(arg: Double): Option[Double] =&#123;</span><br><span class="line">  	 Some(Math.sqrt(arg))</span><br><span class="line">//    None</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">val nums = Nums(6)</span><br><span class="line">    nums match &#123;</span><br><span class="line">      // 调用unapply方法，将返回值赋值给n</span><br><span class="line">      case Nums(n) =&gt; println(n)</span><br><span class="line">      case _ =&gt; println(&quot;else&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-样例类"><a href="#6-样例类" class="headerlink" title="6.样例类"></a>6.样例类</h3><p>样例类使用case声明的一种特殊的类，构造器中的每个参数默都是val，它提供了apply方法用于创建对象，提供unapply方法用于进行模式匹配，此外，它还提供了equals ,copy,toString等方法。样例类对应了两个class文件，类名.class,类名$.class.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">object TestCaseClass &#123;</span><br><span class="line"></span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line"></span><br><span class="line">    for (i&lt;-(Array(Dollar(1000,&quot;$&quot;),Currency(1000,&quot;RMB&quot;))))&#123;</span><br><span class="line">      i match &#123;</span><br><span class="line">        case Dollar(x,y) =&gt; println(x+&quot; &quot;+y)</span><br><span class="line">        case Currency(x,y) =&gt; println(x+&quot; &quot;+y)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">case class Dollar(value:Double,unit:String)</span><br><span class="line">case class Currency(value:Double,unit:String)</span><br></pre></td></tr></table></figure>

<p>样例类提供了copy方法，构造新的对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">val dollar = Dollar(20000,&quot;$&quot;)</span><br><span class="line">val ndollar = dollar.copy()</span><br></pre></td></tr></table></figure>

<h3 id="7-sealed"><a href="#7-sealed" class="headerlink" title="7.sealed"></a>7.sealed</h3><p>样本类的超类被封闭（sealed），封闭类除类定义文件外不能添加子类.模式匹配完成后需要确保所有情况皆被考虑,因此Scala编译器会检测match表达式所遗漏的模式组合</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sealed abstract class Expr  </span><br><span class="line">case class Number( n :Int) extends Expr </span><br><span class="line">case class Sum(e1 : Expr , e2 : Expr) extends Expr  </span><br><span class="line">case class Mul(e1 : Expr , e2 : Expr) extends Expr</span><br><span class="line"></span><br><span class="line">如何定义存在可能样本遗漏的模式匹配</span><br><span class="line">def  getType(a:Expr):String = a match&#123; </span><br><span class="line">    case Number(n) =&gt; “Number“ </span><br><span class="line">    case Sum(m,n) =&gt; “Sum“</span><br><span class="line">&#125;</span><br><span class="line">warning  :  match is not exhaustive </span><br><span class="line">可以添加注解,消除warning</span><br><span class="line">def  getType(a:Expr):String = (a: @unchecked) match &#123;...&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-偏函数"><a href="#8-偏函数" class="headerlink" title="8.偏函数"></a>8.偏函数</h3><p>被包在花括号内的一组case语句是一个偏函数–一个并非对所有输入值都有定义的函数。它是PartialFuncation[A,B]类的一个实例。(A是参数类型，B是返回类型).Scala中的PartialFunction是一个Trait，其的类型为PartialFunction[A,B]，其中接收一个类型为A的参数，返回一个类型为B的结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">val pf :PartialFunction[Int,String] =&#123;</span><br><span class="line">      case 1 =&gt; &quot;a&quot;</span><br><span class="line">      case 2 =&gt; &quot;b&quot;</span><br><span class="line">      case 3 =&gt; &quot;c&quot;</span><br><span class="line">      case 4 =&gt; &quot;d&quot;</span><br><span class="line">      case _ =&gt; &quot;other&quot;</span><br><span class="line">&#125;</span><br><span class="line">println(pf(1))</span><br></pre></td></tr></table></figure>

<p>偏函数中常用的方法</p>
<ul>
<li><p>isDefinedAt:这个函数的作用是判断传入来的参数是否在这个偏函数所处理的范围内。刚才定义的pf来尝试使用isDefinedAt()，只要是Int类型都是正确的，因为有case _=&gt; “Other”这一句。如果换成其他类型就会报错。</p>
</li>
<li><p>orElse : 将多个偏函数组合起来使用，效果类似case语句。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> val onePF:PartialFunction[Int,String] = &#123;</span><br><span class="line">		case 1=&gt;&quot;One&quot;</span><br><span class="line"> &#125;</span><br><span class="line"> val twoPF:PartialFunction[Int,String] = &#123;</span><br><span class="line">		case 2=&gt;&quot;Two&quot;</span><br><span class="line"> &#125;</span><br><span class="line">val threePF:PartialFunction[Int,String] = &#123;</span><br><span class="line">		case 3=&gt;&quot;Two&quot;</span><br><span class="line"> &#125;</span><br><span class="line">val otherPF:PartialFunction[Int,String] = &#123;</span><br><span class="line">		case _=&gt;&quot;other&quot;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>//作用与上面的偏函数作用一致<br>val newPF = onePF orElse twoPF orElse threePF orElse otherPF</p>
</li>
<li><p>andThen: 相当于方法的连续调用</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">val pf :PartialFunction[Int,String] =&#123;</span><br><span class="line"></span><br><span class="line">    case 1 =&gt; &quot;a&quot;</span><br><span class="line"></span><br><span class="line">    case 2 =&gt; &quot;b&quot;</span><br><span class="line"></span><br><span class="line">    case 3 =&gt; &quot;c&quot;</span><br><span class="line"></span><br><span class="line">    case 4 =&gt; &quot;d&quot;</span><br><span class="line"></span><br><span class="line">    case _ =&gt; &quot;other&quot;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">val pf2:PartialFunction[String,String] = &#123;</span><br><span class="line"></span><br><span class="line">    case a if(a.eq(&quot;a&quot;)) =&gt; &quot;a 1&quot;</span><br><span class="line"></span><br><span class="line">    case b if(b.eq(&quot;b&quot;)) =&gt; &quot;b 2&quot;</span><br><span class="line"></span><br><span class="line">    case c if(c.eq(&quot;c&quot;)) =&gt; &quot;c 3&quot;</span><br><span class="line"></span><br><span class="line">    case d if(d.eq(&quot;d&quot;)) =&gt; &quot;d 4&quot;</span><br><span class="line"></span><br><span class="line">    case _ =&gt; &quot;other&quot;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">val newpf = pf.andThen(pf2)</span><br><span class="line"></span><br><span class="line">println(newpf(1)) //结果为　a 1</span><br></pre></td></tr></table></figure>

<ul>
<li>applyOrElse:它接收2个参数，第一个是调用的参数，第二个是个回调函数。如果第一个调用的参数匹配，返回匹配的值，否则调用回调函数。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">println(pf.applyOrElse(10,&#123;a:Int =&gt; &quot;ten&quot;&#125;)) // other</span><br></pre></td></tr></table></figure>

<h2 id="8-函数式编程"><a href="#8-函数式编程" class="headerlink" title="8.函数式编程"></a>8.函数式编程</h2><h3 id="闭包函数"><a href="#闭包函数" class="headerlink" title="闭包函数"></a>闭包函数</h3><p>闭包函数 返回的函数体引用到外部的参数,参数与函数体形成一个闭包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def cosure(x:Int)=&#123;</span><br><span class="line">   (y:Int) =&gt; x*y</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="柯里化函数"><a href="#柯里化函数" class="headerlink" title="柯里化函数"></a>柯里化函数</h3><p>将接受多个参数的函数转化成接受一个参数的函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> def mul(a:Int,b:Int,c:Int)=a*b*c</span><br><span class="line"></span><br><span class="line"> //def mut1(a:Int)(b:Int) = a*b</span><br><span class="line"> def mul1(a:Int)=(b:Int) =&gt; a*b </span><br><span class="line"> </span><br><span class="line">//def mut2(a:Int)(b:Int)(c:Int) = a*b*c</span><br><span class="line"> def mut2(a:Int) = (b:Int) =&gt; (c:Int) =&gt; a*b*c</span><br></pre></td></tr></table></figure>

<h2 id="9-类型系统"><a href="#9-类型系统" class="headerlink" title="9.类型系统"></a>9.类型系统</h2><h3 id="1-泛型"><a href="#1-泛型" class="headerlink" title="1.泛型"></a>1.泛型</h3><ul>
<li>上界: A&lt;:T；只能传入T的子类和本身</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">object TestShangJie &#123;</span><br><span class="line"></span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line">    val compareUtil = new CompareUtil[String]</span><br><span class="line">    println(compareUtil.greater(&quot;Hello&quot;,&quot;acv&quot;))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 只用实现了Comparable的子类才可以使用该类 Comparable为上界</span><br><span class="line">class CompareUtil[T&lt;:Comparable[T]]&#123;</span><br><span class="line"></span><br><span class="line">  def greater(a:T,b:T):T=&#123;</span><br><span class="line">    if (a.compareTo(b)&gt;0) a else b</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>下界 ：A&gt;:T；只能传入T的父类和本身</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">class Earth&#123;</span><br><span class="line">  def sound(): Unit =&#123;</span><br><span class="line">    println(&quot;earth sound&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Animal extends Earth&#123;</span><br><span class="line">  override def sound(): Unit = &#123;</span><br><span class="line">    println(&quot;animal sound&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Dog extends Animal&#123;</span><br><span class="line"></span><br><span class="line">  override def sound(): Unit = &#123;</span><br><span class="line">    println(&quot;dog sound&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> def main(args: Array[String]): Unit = &#123;</span><br><span class="line">    val compareUtil = new CompareUtil[String]</span><br><span class="line">    println(compareUtil.greater(&quot;Hello&quot;,&quot;acv&quot;))</span><br><span class="line"></span><br><span class="line">    val earths = Array[Earth](new Earth,new Earth)</span><br><span class="line">    val animals = Array[Animal](new Animal,new Animal)</span><br><span class="line">    val dogs =  Array[Dog](new Dog,new Dog)</span><br><span class="line">    testlLowerBound(earths).map(_.sound())</span><br><span class="line">    testlLowerBound(animals).map(_.sound())</span><br><span class="line"> // testlLowerBound(dogs).map(_.sound()) 报错</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  def testlLowerBound[T&gt;:Animal](array: Array[T]): Array[T] =&#123;</span><br><span class="line">    array</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>视图界定：A&lt;%T;支持上界和隐式转换，在利用Compareble进行比较的时候，由于Int不是Comparable[Int]的子类型，不能直接进行传参比较。而scala中会将Int隐式转化成RichInt,利用视图界定,可以有效的解决Comparable不能直接传Int的问题</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 允许传入Comparable的子类和</span><br><span class="line">class CompareUtil[T&lt;% Comparable[T]]&#123;</span><br><span class="line"></span><br><span class="line">  def greater(a:T,b:T):T=&#123;</span><br><span class="line">    if (a.compareTo(b)&gt;0) a else b</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>上下文界定：T:M ;要求必须存在一个类型为M[T]的”隐式值”</li>
</ul>
<p>写法一：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// 隐式值</span><br><span class="line"> implicit val compare = new Ordering[Emp]&#123;</span><br><span class="line">  override def compare(x: Emp, y: Emp): Int = &#123;</span><br><span class="line">    x.age-y.age</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// [T:Ordering] =》 (implicit ord:Ordering[T])</span><br><span class="line">def comparatorEmp[T:Ordering](t1:T,t2:T)(implicit ord:Ordering[T]): T =&#123;</span><br><span class="line">  if(ord.compare(t1,t2)&gt;0) t1 else t2</span><br><span class="line">&#125;</span><br><span class="line">class Emp(var age:Int)&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 方法调用</span><br><span class="line">def main(args: Array[String]): Unit = &#123;</span><br><span class="line">  val emp1 = new Emp(18)</span><br><span class="line">  val emp2 = new Emp(20)</span><br><span class="line">  val res = comparatorEmp(emp1,emp2)</span><br><span class="line">  println(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>写法二:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def comparatorEmp[T:Ordering](t1:T,t2:T): T =&#123;</span><br><span class="line"></span><br><span class="line">  def helper(implicit ord:Ordering[T]):T = if(ord.compare(t1,t2)&gt;0) t1 else t2</span><br><span class="line">  helper</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-形变"><a href="#2-形变" class="headerlink" title="2.形变"></a>2.形变</h3><p>在java中 泛型不存在继承关系，即不存在多态但是在scala中 允许泛型之间有联系，使用型变来描述这种联系</p>
<ul>
<li>协变：C[+T]：如果A是B的子类，那么C[A]是C[B]的子类。也就是被参数化类型的泛化方向与参数类型的方向是一致的，所以称为协变。</li>
<li>逆变：C[-T]：如果A是B的子类，那么C[B]是C[A]的子类。也就是被参数化类型的泛化方向与参数类型的方向是相反的，所以称为逆变。</li>
<li>不变：C[T]：无论A和B是什么关系，C[A]和C[B]没有从属关系</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Engineer</span><br><span class="line">class Expert extends Engineer</span><br><span class="line">class Meeting[+T]//可以传入T或T的子类</span><br><span class="line">object MeetingTest&#123;</span><br><span class="line">    def participateMeeting(meeting:Meeting[Expert])=  println(&quot;welcome&quot;)</span><br><span class="line"></span><br><span class="line">        def main(args: Array[String]): Unit = &#123;</span><br><span class="line">            val m = new Meeting[Expert]</span><br><span class="line">            val m1 = new Meeting[Engineer]</span><br><span class="line"></span><br><span class="line">            participateMeeting(m)</span><br><span class="line">            participateMeeting(m1)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-类型约束"><a href="#3-类型约束" class="headerlink" title="3.类型约束"></a>3.类型约束</h2><p>类型约束： 放到隐式关键字后面</p>
<p>​        A =:= T A是否等于T<br>        A &lt;:&lt; T A是否为T的子类<br>        A &lt;%&lt; T A是否可以隐式转化成T<br>        注意：使用类型约束需要使用implicit关键字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2019/07/22/scala/">scala</a></p>
        <p><span>文章作者:</span><a href="/" title="回到主页">HanderH</a></p>
        <p><span>发布时间:</span>2019-07-22, 14:46:09</p>
        <p><span>最后更新:</span>2019-08-02, 17:31:34</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2019/07/22/scala/" title="scala">http://www.handerh.top/2019/07/22/scala/</a>
            <span class="copy-path" data-clipboard-text="原文: http://www.handerh.top/2019/07/22/scala/　　作者: HanderH" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2019/07/24/通信分析项目总结/">
                    通信分析项目总结
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2019/07/21/virtualbox虚拟机ubuntu无法上网/">
                    virtualbox虚拟机ubuntu无法上网
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一-变量"><span class="toc-number">1.</span> <span class="toc-text">一.变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#scala的数据类型"><span class="toc-number">1.1.</span> <span class="toc-text">scala的数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#数据类型列表"><span class="toc-number">1.1.1.</span> <span class="toc-text">数据类型列表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#变量声明"><span class="toc-number">1.2.</span> <span class="toc-text">变量声明</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#键盘输入语句"><span class="toc-number">1.2.1.</span> <span class="toc-text">键盘输入语句</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二-程序流程控制"><span class="toc-number">2.</span> <span class="toc-text">二.程序流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-if-else"><span class="toc-number">2.1.</span> <span class="toc-text">1. if-else</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-for循环控制"><span class="toc-number">2.2.</span> <span class="toc-text">2.for循环控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-while循环控制"><span class="toc-number">2.3.</span> <span class="toc-text">3.while循环控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-异常处理"><span class="toc-number">2.4.</span> <span class="toc-text">4.异常处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三-方法的定义"><span class="toc-number">3.</span> <span class="toc-text">三.方法的定义</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#基本语法"><span class="toc-number">3.0.1.</span> <span class="toc-text">基本语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#过程"><span class="toc-number">3.1.</span> <span class="toc-text">过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#惰性函数"><span class="toc-number">3.2.</span> <span class="toc-text">惰性函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四-面向对象编程"><span class="toc-number">4.</span> <span class="toc-text">四.面向对象编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-类与对象"><span class="toc-number">4.1.</span> <span class="toc-text">1.类与对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-构造器"><span class="toc-number">4.2.</span> <span class="toc-text">2.构造器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#主构造器中的参数"><span class="toc-number">4.2.1.</span> <span class="toc-text">主构造器中的参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#get-set方法"><span class="toc-number">4.2.2.</span> <span class="toc-text">get set方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#对象的创建流程"><span class="toc-number">4.2.3.</span> <span class="toc-text">对象的创建流程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-package"><span class="toc-number">4.3.</span> <span class="toc-text">3.package</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#包的使用"><span class="toc-number">4.3.1.</span> <span class="toc-text">包的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#包对象"><span class="toc-number">4.3.2.</span> <span class="toc-text">包对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#scala中包的访问权限"><span class="toc-number">4.3.3.</span> <span class="toc-text">scala中包的访问权限</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-伴生类与伴生对象"><span class="toc-number">4.4.</span> <span class="toc-text">4.伴生类与伴生对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#介绍"><span class="toc-number">4.4.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#apply方法"><span class="toc-number">4.4.2.</span> <span class="toc-text">apply方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-trait-特质"><span class="toc-number">4.5.</span> <span class="toc-text">5.trait(特质)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#特质的声明"><span class="toc-number">4.5.1.</span> <span class="toc-text">特质的声明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#特质的使用"><span class="toc-number">4.5.2.</span> <span class="toc-text">特质的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#动态混入"><span class="toc-number">4.5.3.</span> <span class="toc-text">动态混入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#富接口"><span class="toc-number">4.5.4.</span> <span class="toc-text">富接口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#trait中的字段"><span class="toc-number">4.5.5.</span> <span class="toc-text">trait中的字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#trait的构造顺序"><span class="toc-number">4.5.6.</span> <span class="toc-text">trait的构造顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#trait的扩展类"><span class="toc-number">4.5.7.</span> <span class="toc-text">trait的扩展类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-重写"><span class="toc-number">4.6.</span> <span class="toc-text">6.重写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-嵌套类"><span class="toc-number">4.7.</span> <span class="toc-text">7.嵌套类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#内部类"><span class="toc-number">4.7.1.</span> <span class="toc-text">内部类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#静态内部类"><span class="toc-number">4.7.2.</span> <span class="toc-text">静态内部类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#类型投影"><span class="toc-number">4.7.3.</span> <span class="toc-text">类型投影</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-隐式转换解决数据类型的转换"><span class="toc-number">4.7.4.</span> <span class="toc-text">1.隐式转换解决数据类型的转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-隐式值"><span class="toc-number">4.7.5.</span> <span class="toc-text">2.隐式值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-隐式值，默认值，传值的优先级"><span class="toc-number">4.7.6.</span> <span class="toc-text">3.隐式值，默认值，传值的优先级</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-隐式类"><span class="toc-number">4.7.7.</span> <span class="toc-text">4.隐式类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六-数据结构"><span class="toc-number">5.</span> <span class="toc-text">六.数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-集合关系"><span class="toc-number">5.1.</span> <span class="toc-text">1.集合关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-数组"><span class="toc-number">5.2.</span> <span class="toc-text">2.数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#不可变数组"><span class="toc-number">5.2.1.</span> <span class="toc-text">不可变数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#可变数组"><span class="toc-number">5.2.2.</span> <span class="toc-text">可变数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#二维数组"><span class="toc-number">5.2.3.</span> <span class="toc-text">二维数组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-元组"><span class="toc-number">5.3.</span> <span class="toc-text">3.元组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-List"><span class="toc-number">5.4.</span> <span class="toc-text">4.List</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#不可变集合List"><span class="toc-number">5.4.1.</span> <span class="toc-text">不可变集合List</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#可变集合ListBuffer"><span class="toc-number">5.4.2.</span> <span class="toc-text">可变集合ListBuffer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#映射Map"><span class="toc-number">5.4.3.</span> <span class="toc-text">映射Map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Set"><span class="toc-number">5.4.4.</span> <span class="toc-text">Set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#集合元素的操作"><span class="toc-number">5.4.5.</span> <span class="toc-text">集合元素的操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七-模式匹配"><span class="toc-number">6.</span> <span class="toc-text">七.模式匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-基本介绍"><span class="toc-number">6.1.</span> <span class="toc-text">1.基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-类型匹配"><span class="toc-number">6.2.</span> <span class="toc-text">2.类型匹配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-数组匹配"><span class="toc-number">6.3.</span> <span class="toc-text">3.数组匹配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-列表匹配"><span class="toc-number">6.4.</span> <span class="toc-text">4.列表匹配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-对象匹配"><span class="toc-number">6.5.</span> <span class="toc-text">5.对象匹配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-样例类"><span class="toc-number">6.6.</span> <span class="toc-text">6.样例类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-sealed"><span class="toc-number">6.7.</span> <span class="toc-text">7.sealed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-偏函数"><span class="toc-number">6.8.</span> <span class="toc-text">8.偏函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-函数式编程"><span class="toc-number">7.</span> <span class="toc-text">8.函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#闭包函数"><span class="toc-number">7.1.</span> <span class="toc-text">闭包函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#柯里化函数"><span class="toc-number">7.2.</span> <span class="toc-text">柯里化函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-类型系统"><span class="toc-number">8.</span> <span class="toc-text">9.类型系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-泛型"><span class="toc-number">8.1.</span> <span class="toc-text">1.泛型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-形变"><span class="toc-number">8.2.</span> <span class="toc-text">2.形变</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-类型约束"><span class="toc-number">9.</span> <span class="toc-text">3.类型约束</span></a></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-6 i,
        .toc-level-6 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

    <script>
        yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"scala　| hsj的博客　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    
      <section class="livere" id="comments">
    <!-- 来必力City版安装代码 -->
    <div id="lv-container" data-id="city" data-uid="MTAyMC80NDk3My8yMTQ5Mw==">
    <script type="text/javascript">
   (function(d, s) {
       var j, e = d.getElementsByTagName(s)[0];

       if (typeof LivereTower === 'function') { return; }

       j = d.createElement(s);
       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
       j.async = true;

       e.parentNode.insertBefore(j, e);
       })(document, 'script');
    </script>
    <noscript> 为正常使用来必力评论功能请激活JavaScript</noscript>
    </div>
    <!-- City版安装代码已完成 -->
</section>
    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2019/07/24/通信分析项目总结/" title="上一篇: 通信分析项目总结">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2019/07/21/virtualbox虚拟机ubuntu无法上网/" title="下一篇: virtualbox虚拟机ubuntu无法上网">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/09/04/java中的锁/">java中的锁</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/03/集合多线程下的安全性/">集合多线程下的安全性</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/02/CAS/">CAS</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/13/kafka学习笔记/">kafka学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/09/spark-sql/">spark sql</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/07/spark之RDD操作/">spark之RDD操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/05/spark基本架构与运行原理/">spark基本架构与运行原理</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/04/hadoop优化配置/">hadoop优化配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/02/异常笔记/">异常笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/29/mysql基础/">mysql</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/28/redis/">redis</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/24/通信分析项目总结/">通信分析项目总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/22/scala/">scala</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/21/virtualbox虚拟机ubuntu无法上网/">virtualbox虚拟机ubuntu无法上网</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/13/hadoop/">hadoop</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/10/交换排序/">交换排序</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/10/hive/">hive</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/10/插入排序/">插入排序</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/09/java类加载器/">java类加载器</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/04/GC-垃圾回收机制/">GC-垃圾回收机制</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/04/工厂模式/">工厂模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/03/代理模式/">代理模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/03/java类与类之间的关系/">java类与类之间的关系</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/02/hbase基本操作/">hbase的基本操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/02/简单了解一下zookeeper/">简单了解一下zookeeper</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/01/深入理解volatile/">深入理解volatile</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/01/谈谈synchronized/">谈谈synchronized</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/30/java-IO/">java IO</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/29/java的exception/">Exception</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/29/equals/">equals</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/29/clone-浅拷贝与深拷贝/">clone() 浅拷贝与深拷贝</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/27/Flume/">Flume</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/26/java设计模式-单例模式/">java设计模式(单例模式)</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2019 HanderH
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
<div>
<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
<script>
    var now = new Date(); 
    function createtime() { 
        var grt= new Date("02/14/2018 12:49:00");//此处修改你的建站时间或者网站上线时间 
        now.setTime(now.getTime()+250); 
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 "; 
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
    } 
setInterval("createtime()",250);
</script>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>